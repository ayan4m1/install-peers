"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _executioner=_interopRequireDefault(require("executioner"));function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}function _objectSpread(a){for(var b=1;b<arguments.length;b++){var c=null==arguments[b]?{}:arguments[b],d=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(d=d.concat(Object.getOwnPropertySymbols(c).filter(function(a){return Object.getOwnPropertyDescriptor(c,a).enumerable}))),d.forEach(function(b){_defineProperty(a,b,c[b])})}return a}function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}const errors={noInstantiate:new TypeError("This class should not be instantiated."),shouldNotRun:new TypeError("Install was attempted with an unsuitable tool."),calledSuperMethod:new TypeError("This method has not been overridden by the child class.")};class Installer{constructor(){if(this.constructor===Installer)throw errors.noInstantiate;this.execPath=process.env.npm_execpath}get shouldRun(){return this.execPath.slice(-this.expectedPath.length)===this.expectedPath}get expectedPath(){throw errors.calledSuperMethod}get args(){throw errors.calledSuperMethod}install(a){if(!this.shouldRun)throw errors.shouldNotRun;const b=_objectSpread({node:process.argv[0],packages:a.map(a=>`"${a}"`).join(" ")},this.args);return new Promise((a,c)=>{(0,_executioner.default)("\"${node}\" \"${script}\" ${command} ${packages}",b,(b,d)=>b?void c(b):void a(d))})}}exports.default=Installer;